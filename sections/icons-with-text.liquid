{%- comment -%}
  Icons with Text - å¸¦æ–‡æœ¬çš„å›¾æ ‡
  æ”¯æŒå¤šä¸ªå›¾æ ‡+æ ‡é¢˜+æè¿°çš„ç»„åˆï¼Œå¯ç”¨äºå±•ç¤ºç‰¹è‰²ã€æœåŠ¡ç­‰
{%- endcomment -%}

<div
  class="iwt-section"
  style="
    background-color: {{ section.settings.bg_color }};
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  "
>
  <div class="iwt-container">
    {%- if section.settings.title != blank -%}
      <h2 class="iwt-section__title" style="color: {{ section.settings.title_color }};">
        {{ section.settings.title }}
      </h2>
    {%- endif -%}

    <div
      class="iwt-grid"
      style="
        --columns-desktop: {{ section.settings.columns_desktop }};
        --columns-mobile: {{ section.settings.columns_mobile }};
        --gap: {{ section.settings.gap }}px;
      "
    >
      {%- for block in section.blocks -%}
        <div
          class="iwt-item"
          {{ block.shopify_attributes }}
          style="          text-align: {{ section.settings.text_align }};"
        >
          <!-- å›¾æ ‡ -->
          <div
            class="iwt-item__icon"
            style="
              width: {{ block.settings.icon_size }}px;
              height: {{ block.settings.icon_size }}px;
              color: {{ block.settings.icon_color }};
              background-color: {{ block.settings.icon_bg_color }};
              border-radius: {{ block.settings.icon_radius }}px;
            "
          >
            {%- if block.settings.custom_icon != blank -%}
              <img
                src="{{ block.settings.custom_icon | image_url: width: 200 }}"
                alt="{{ block.settings.title | escape }}"
                width="{{ block.settings.icon_size }}"
                height="{{ block.settings.icon_size }}"
                loading="lazy"
              >
            {%- else -%}
              {% render 'icon',
                icon: block.settings.icon,
                width: block.settings.icon_size,
                height: block.settings.icon_size
              %}
            {%- endif -%}
          </div>

          <!-- æ ‡é¢˜ -->
          {%- if block.settings.title != blank -%}
            <h3 class="iwt-item__title" style="color: {{ section.settings.item_title_color }};">
              {{ block.settings.title }}
            </h3>
          {%- endif -%}

          <!-- æè¿° -->
          {%- if block.settings.description != blank -%}
            <p class="iwt-item__desc" style="color: {{ section.settings.desc_color }};">
              {{ block.settings.description }}
            </p>
          {%- endif -%}

          <!-- é“¾æ¥ -->
          {%- if block.settings.link != blank and block.settings.link_text != blank -%}
            <a
              href="{{ block.settings.link }}"
              class="iwt-item__link"
              style="color: {{ section.settings.link_color }};"
            >
              {{ block.settings.link_text }}
            </a>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
  </div>
</div>

<style>
  .iwt-section {
    width: 100%;
  }
  .iwt-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  .iwt-section__title {
    text-align: center;
    font-family: var(--font-heading--family);
    font-size: 28px;
    margin: 0 0 40px;
  }
  .iwt-grid {
    display: grid;
    grid-template-columns: repeat(var(--columns-desktop), 1fr);
    gap: var(--gap);
  }
  .iwt-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }
  .iwt-item[style*='text-align: left'] {
    align-items: flex-start;
  }
  .iwt-item[style*='text-align: right'] {
    align-items: flex-end;
  }
  .iwt-item__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .iwt-item__icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
  .iwt-item__icon svg {
    width: 60%;
    height: 60%;
  }
  .iwt-item__title {
    font-family: var(--font-heading--family);
    font-size: 18px;
    font-weight: 600;
    margin: 0;
    line-height: 1.3;
  }
  .iwt-item__desc {
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
    max-width: 280px;
  }
  .iwt-item__link {
    font-size: 14px;
    text-decoration: underline;
    transition: opacity 0.2s;
  }
  .iwt-item__link:hover {
    opacity: 0.7;
  }

  @media (max-width: 749px) {
    .iwt-grid {
      grid-template-columns: repeat(var(--columns-mobile), 1fr);
    }
    .iwt-section__title {
      font-size: 22px;
      margin-bottom: 30px;
    }
    .iwt-item__title {
      font-size: 16px;
    }
    .iwt-item__desc {
      font-size: 13px;
    }
  }
</style>

{% schema %}
{
  "name": "å¸¦æ–‡æœ¬çš„å›¾æ ‡",
  "tag": "section",
  "class": "icons-with-text",
  "settings": [
    {
      "type": "header",
      "content": "æ ‡é¢˜è®¾ç½®"
    },
    {
      "type": "text",
      "id": "title",
      "label": "æ ‡é¢˜"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "æ ‡é¢˜é¢œè‰²",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "å¸ƒå±€è®¾ç½®"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "èƒŒæ™¯é¢œè‰²",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "ä¸Šå†…è¾¹è·",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 50
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "ä¸‹å†…è¾¹è·",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 50
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "label": "åˆ—æ•°ï¼ˆæ¡Œé¢ç«¯ï¼‰",
      "min": 2,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "columns_mobile",
      "label": "åˆ—æ•°ï¼ˆç§»åŠ¨ç«¯ï¼‰",
      "min": 1,
      "max": 3,
      "step": 1,
      "default": 2
    },
    {
      "type": "range",
      "id": "gap",
      "label": "é—´è·",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "select",
      "id": "text_align",
      "label": "æ–‡å­—å¯¹é½",
      "options": [
        { "value": "left", "label": "å·¦å¯¹é½" },
        { "value": "center", "label": "å±…ä¸­" },
        { "value": "right", "label": "å³å¯¹é½" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "æ–‡å­—é¢œè‰²"
    },
    {
      "type": "color",
      "id": "item_title_color",
      "label": "é¡¹ç›®æ ‡é¢˜é¢œè‰²",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "desc_color",
      "label": "æè¿°é¢œè‰²",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "link_color",
      "label": "é“¾æ¥é¢œè‰²",
      "default": "#000000"
    }
  ],
  "blocks": [
    {
      "type": "icon_item",
      "name": "å›¾æ ‡é¡¹",
      "settings": [
        {
          "type": "header",
          "content": "å›¾æ ‡è®¾ç½®"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "å†…ç½®å›¾æ ‡",
          "options": [
            { "value": "none", "label": "æ— " },
            { "value": "checkmark", "label": "âœ“ å‹¾é€‰" },
            { "value": "heart", "label": "â™¥ å¿ƒå½¢" },
            { "value": "star", "label": "â˜… æ˜Ÿæ˜Ÿ" },
            { "value": "truck", "label": "ğŸšš å¡è½¦" },
            { "value": "lock", "label": "ğŸ”’ é”" },
            { "value": "return", "label": "â†© é€€è´§" },
            { "value": "chat", "label": "ğŸ’¬ èŠå¤©" },
            { "value": "gift", "label": "ğŸ ç¤¼ç‰©" },
            { "value": "leaf", "label": "ğŸŒ¿ å¶å­" },
            { "value": "globe", "label": "ğŸŒ åœ°çƒ" }
          ],
          "default": "checkmark",
          "info": "æˆ–ä¸Šä¼ è‡ªå®šä¹‰å›¾æ ‡"
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "è‡ªå®šä¹‰å›¾æ ‡",
          "info": "ä¸Šä¼ åå°†è¦†ç›–å†…ç½®å›¾æ ‡"
        },
        {
          "type": "range",
          "id": "icon_size",
          "label": "å›¾æ ‡å¤§å°",
          "min": 24,
          "max": 100,
          "step": 4,
          "unit": "px",
          "default": 48
        },
        {
          "type": "color",
          "id": "icon_color",
          "label": "å›¾æ ‡é¢œè‰²",
          "default": "#000000"
        },
        {
          "type": "color",
          "id": "icon_bg_color",
          "label": "å›¾æ ‡èƒŒæ™¯è‰²",
          "default": "transparent"
        },
        {
          "type": "range",
          "id": "icon_radius",
          "label": "å›¾æ ‡åœ†è§’",
          "min": 0,
          "max": 50,
          "step": 2,
          "unit": "px",
          "default": 0
        },
        {
          "type": "header",
          "content": "æ–‡å­—å†…å®¹"
        },
        {
          "type": "text",
          "id": "title",
          "label": "æ ‡é¢˜",
          "default": "ç‰¹è‰²æ ‡é¢˜"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "æè¿°",
          "default": "åœ¨è¿™é‡Œæ·»åŠ æè¿°æ–‡å­—"
        },
        {
          "type": "header",
          "content": "é“¾æ¥"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "é“¾æ¥æ–‡å­—"
        },
        {
          "type": "url",
          "id": "link",
          "label": "é“¾æ¥åœ°å€"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "å¸¦æ–‡æœ¬çš„å›¾æ ‡",
      "blocks": [
        {
          "type": "icon_item",
          "settings": { "icon": "truck", "title": "å…è´¹é…é€", "description": "è®¢å•æ»¡é¢å…è¿è´¹" }
        },
        {
          "type": "icon_item",
          "settings": { "icon": "return", "title": "è½»æ¾é€€æ¢", "description": "30å¤©æ— å¿§é€€æ¢è´§" }
        },
        {
          "type": "icon_item",
          "settings": { "icon": "lock", "title": "å®‰å…¨æ”¯ä»˜", "description": "å¤šç§å®‰å…¨æ”¯ä»˜æ–¹å¼" }
        },
        {
          "type": "icon_item",
          "settings": { "icon": "chat", "title": "å®¢æœæ”¯æŒ", "description": "7x24å°æ—¶åœ¨çº¿æœåŠ¡" }
        }
      ]
    }
  ]
}
{% endschema %}
